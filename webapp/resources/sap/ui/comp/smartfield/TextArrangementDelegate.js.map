{"version":3,"file":"TextArrangementDelegate.js","names":["sap","ui","define","compLibrary","coreLibrary","Core","BaseObject","Filter","FilterOperator","assert","deepEqualUtil","TextInEditModeSource","smartfield","TextArrangementDelegate","extend","constructor","oFactory","apply","this","arguments","oTextArrangementType","oSmartField","_oParent","bValidMetadata","sBindingContextPath","sAbsolutePathToVLProperty","_mOneTimeDescriptionCache","Map","_sTextArrangementLastReadValue","_mTextArrangementLastReadAdditionalFilters","prototype","setValue","sValue","sOldValue","oControl","_oControl","oInnerControl","current","oBinding","getBinding","bModelUpdate","isPropertyBeingUpdatedByModel","_getComputedTextInEditModeSource","NavigationProperty","bDescriptionForValueLoaded","getModel","getData","getBindings","getPath","getBindingContext","ValueList","ValueListNoValidation","fetchIDAndDescriptionCollectionIfRequired","getPaths","sTextInEditModeSource","oMetadata","oValueListAnnotation","property","valueListAnnotation","oNavigationPropertyMetadata","annotations","text","keyField","entityType","key","propertyRef","name","descriptionField","typePath","entitySetName","entitySet","valueListEntitySet","valueListNoValidation","getBindingInfo","oSettings","oBindSettings","bValueListNoValidation","oFormatOptions","_oMetaData","oValueListData","valueListData","type","oBindingInfo","mTextArrangementBindingPaths","_bTextInDisplayModeValueList","bKeyInitialValueIsSignificant","aInitialValueIsSignificantFields","indexOf","_oTypes","getType","Object","assign","oConstraints","composite","valueList","keyInitialValueIsSignificant","delegate","entityID","getValue","mTextArrangementPaths","sTextAnnotationPropertyPath","getTextAnnotationPropertyPath","model","parts","path","textInEditModeSource","oTextAnnotation","textAnnotation","_oHelper","oEdmValueListKeyProperty","edmValueListKeyProperty","valueListKeyProperty","bindingContextPath","getAbsolutePropertyPathToValueListEntity","_isValueInitial","sTextAnnotationPath","getMetaData","None","checkRequiredMetadata","bSuppressErrors","oEntityTypeOfNavigationProperty","oCheckNavigationPropertyMetadata","propertyName","entityTypeOfNavigationProperty","checkNavigationPropertyRequiredMetadataNoAsserts","checkNavigationPropertyRequiredMetadata","oValueListMetadata","checkValueListRequiredMetadataForTextArrangmentNoAsserts","checkValueListRequiredMetadataForTextArrangment","onBeforeValidateValue","fnOnFetchSuccess","onFetchIDAndDescriptionCollectionSuccess","bind","success","fnOnFetchError","onFetchIDAndDescriptionCollectionError","error","oFetchSettings","value","filterFields","updateBusyIndicator","bCheckValuesValidity","fetchIDAndDescriptionCollection","bForceTextArrangementFetch","sMode","getMode","oMetaData","valuelistType","_getDisplayBehaviourConfiguration","INNER_CONTROL_VALUE_PROP_MAP","oModel","oBindingContext","sPath","vValue","getProperty","oAdditionalFilters","getAdditionalFiltersData","getControlFactory","bTextArrangementLastReadFiltersDiff","aFilterFields","oSuccessSettings","oldValue","initialRendering","mode","oInputField","edit","setBusyIndicatorDelay","setBusy","_setValueInValidation","readODataModel","finally","oVLEntitySelected","sFieldName","oCache","sKeyField","sDescriptionField","oValueListProvider","getValueListProvider","bIsValueListEntitySetRequested","valueListEntitySetName","mOutParams","outParams","values","aAllFields","fields","oDataModelReadSettings","_isValueListValidationMode","Promise","resolve","getAbsolutePathToVLProperty","getSelectedEntity","clearAbsolutePathToVLProperty","oError","reject","getDataForNextDescriptionRequest","hasOwnProperty","_shouldHaveHistory","oFiltersSettings","keyFieldPath","descriptionFieldPath","push","additionalFilters","aFilters","getFilters","length","mUrlParameters","getUrlParameters","allFields","filters","urlParameters","_getTextArrangementRead","read","then","catch","setAbsolutePathToVLProperty","oData","oSelectedEntity","mConstParams","mInParams","sConstFieldName","sInFieldName","sValueListFieldName","inParams","constParams","undefined","_setBindingPath","aDataResults","sBindingProperty","oBindingControl","oODataModel","getTextInEditModeSource","vBindingContextPath","Array","isArray","getMetadata","getName","getKey","bindPropertyForValueList","oResponse","oOutputData","oInputFieldBinding","oDisplayControl","results","display","_calculateAndSetODataModelOutputData","_oHistoryValuesProvider","setFieldData","oValidation","handleValueListWarning","isTextInEditModeSourceNotNone","sProperty","bSkipValidation","oType","isA","_getTextArrangementType","skipValidation","bindProperty","aSelect","forEach","sOutParam","map","oField","$select","join","$top","oAdditionalParamFilters","destroyFilters","oIDFilter","getIDFilter","oDescriptionFilter","getDescriptionFilter","_getAdditionalFilters","oFilters","and","setDataForNextDescriptionRequest","set","get","delete","aVLFields","oFieldMetadata","find","bIsNullable","nullable","_generateFiltersForEmptyField","value1","operator","EQ","Contains","keys","vFieldValue","bInitialValueIsSignificant","aGeneratedFilters","_generateFiltersForField","bNotNullable","destroy"],"sources":["TextArrangementDelegate-dbg.js"],"mappings":";;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,sBACA,sBACA,mBACA,qBACA,sBACA,8BACA,kBACA,2BACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,IAAIC,EAAuBR,EAAYS,WAAWD,qBAElD,IAAIE,EAA0BP,EAAWQ,OAAO,iDAAyH,CACxKC,YAAa,SAASC,GACrBV,EAAWW,MAAMC,KAAMC,WACvBD,KAAKE,qBAAuB,KAC5BF,KAAKF,SAAWA,EAChBE,KAAKG,YAAcL,EAASM,SAC5BJ,KAAKK,eAAiB,MACtBL,KAAKM,oBAAsB,GAC3BN,KAAKO,0BAA4B,GAGjCP,KAAKQ,0BAA4B,IAAIC,IACrCT,KAAKU,+BAAiC,KACtCV,KAAKW,2CAA6C,IACnD,IAGDhB,EAAwBiB,UAAUC,SAAW,SAASC,EAAQC,GAC7D,IAAIZ,EAAcH,KAAKG,YACtBa,EAAWb,EAAYc,UAMxB,GAAIjB,KAAKK,gBAAmBS,IAAWC,GAAcC,EAAU,CAC9D,IAAIE,EAAgBF,EAASA,EAASG,SACrCC,EAAWF,GAAiBA,EAAcG,WAAW,SAEtD,IAAKD,EAAU,CACd,MACD,CAIA,IAAIE,EAAenB,EAAYoB,8BAA8B,SAE7D,OAAQpB,EAAYqB,oCACnB,KAAK/B,EAAqBgC,mBACzB,IAAIC,IAA+BvB,EAAYwB,WAAWC,QAAQR,EAASS,cAAc,GAAGC,UAAW3B,EAAY4B,oBAAqB,MAExI,GAAKT,IAAiBI,IAAgCJ,EAAc,CACnEJ,EAAcL,SAASC,EACxB,CAEA,OAED,KAAKrB,EAAqBuC,UAC1B,KAAKvC,EAAqBwC,sBACzB,IAAKX,EAAc,CAClBJ,EAAcL,SAASC,EACxB,MAAO,GAENd,KAAKU,iCAAmCI,EACvC,CAEDd,KAAKkC,2CACN,CAEA,OAIH,CACD,EAEAvC,EAAwBwC,SAAW,SAASC,EAAuBC,GAClE,IAAIC,EAAuBD,EAAUE,UAAYF,EAAUE,SAASC,oBAEpE,OAAQJ,GACP,KAAK3C,EAAqBgC,mBACzB,IAAIgB,EAA8BJ,EAAUK,YAAYC,KAExD,IAAKF,EAA6B,CACjC,MAAO,CAAC,CACT,CAEA,MAAO,CACNG,SAAUH,EAA4BI,WAAWC,IAAIC,YAAY,GAAGC,KACpEC,iBAAkBR,EAA4BF,SAASW,SACvDC,cAAeV,EAA4BW,UAAUJ,MAGvD,KAAKvD,EAAqBuC,UACzB,IAAKM,EAAsB,CAC1B,MAAO,CAAC,CACT,CAEA,MAAO,CACNM,SAAUN,EAAqBM,SAC/BK,iBAAkBX,EAAqBW,iBACvCE,cAAed,EAAUE,SAASc,oBAAsBhB,EAAUE,SAASc,mBAAmBL,MAEhG,KAAKvD,EAAqBwC,sBACzB,IAAKK,EAAsB,CAC1B,MAAO,CAAC,CACT,CAEA,MAAO,CACNgB,sBAAuB,KACvBV,SAAUN,EAAqBM,SAC/BK,iBAAkBX,EAAqBW,iBACvCE,cAAed,EAAUE,SAASc,mBAAmBL,MAKzD,EAEArD,EAAwBiB,UAAU2C,eAAiB,SAASC,GAC3D,IAAIC,EACHC,EAAyBF,EAAUF,sBACnCK,EAAiB,CAAC,EAClBxD,EAAcH,KAAKG,YACnBL,EAAWE,KAAKF,SAChBuC,EAAYvC,EAAS8D,WACrBC,EAAiBxB,GAChBA,EAAUK,aACVL,EAAUK,YAAYoB,eAAiB,KAEzC9D,KAAKE,qBAAuBsD,GAAaA,EAAUO,KAEnD,IAAK/D,KAAKE,qBAAsB,CAC/B,IAAI8D,EAAe7D,EAAYoD,eAAe,SAC9CvD,KAAKE,qBAAwB8D,GAAgBA,EAAaD,MAAS,CAAC,EACpE,IAAIE,EAA+BtE,EAAwBwC,SAC1DrC,EAASoE,6BAA+BzE,EAAqBuC,UAAY7B,EAAYqB,mCACrFa,GAED,IAAI8B,EAAiCN,GAAkBA,EAAeO,kCAAoCP,EAAeO,iCAAiCC,QAAQJ,EAA6BrB,aAAe,EAE9M5C,KAAKE,qBAAuBJ,EAASwE,QAAQC,QAAQlC,EAAUE,SAAUiC,OAAOC,OAAOd,EAAgB3D,KAAKE,qBAAqByD,gBAAiB3D,KAAKE,qBAAqBwE,aAAc,CACzLC,UAAW,KACX/B,SAAUqB,EAA6BrB,SACvCK,iBAAkBgB,EAA6BhB,iBAC/CK,sBAAuBI,EACvBkB,UAAWzE,EAAYqB,qCAAuC/B,EAAqBuC,UACnF6C,6BAA8BV,EAC9BW,SAAU9E,MAEZ,CACA,IAAI+E,EAAW/E,KAAKG,YAAYkB,WAAW,SAAS2D,WACnD5C,EAAwBjC,EAAYqB,mCACpCyD,EAAwBtF,EAAwBwC,SAC/CnC,KAAKF,SAASoE,6BAA+BzE,EAAqBuC,UAAYI,EAC9EC,GAGF,IAAI6C,EAA8BlF,KAAKmF,8BAA8B,CACpE/B,UAAW,CAAEJ,KAAMiC,EAAsB9B,eACzC4B,SAAUA,IAKX,GAAIG,IAAgC,IAAMA,EAA4Bb,QAAQ,gBAAkB,EAAG,CAClGa,EAA8B,sCAC/B,CAEAzB,EAAgB,CACf2B,MAAO/C,EAAU+C,MACjBrB,KAAM/D,KAAKE,qBACXmF,MAAO,CACN,CACCC,KAAMjD,EAAUiD,MAEjB,CACCA,KAAMJ,KAKT,OAAOzB,CACR,EAEA9D,EAAwBiB,UAAUuE,8BAAgC,SAAS3B,GAC1EA,EAAYA,GAAa,CAAC,EAC1B,IAAIpB,EAAwBoB,EAAU+B,sBAAwBvF,KAAKG,YAAYqB,mCAC9E1B,EAAWE,KAAKF,SAChBuC,EAAYvC,EAAS8D,WAEtB,GAAI9D,EAASoE,6BAA8B,CAE1C9B,EAAwB3C,EAAqBuC,SAC9C,CAEA,OAAQI,GACP,KAAK3C,EAAqBgC,mBACzB,IAAI+D,EAAkBhC,EAAUiC,gBAAkBpD,EAAUK,YAAYC,KACxE,OAAO7C,EAAS4F,SAASP,8BAA8BK,GAExD,KAAK/F,EAAqBuC,UACzB,IAAI2D,EAA2BnC,EAAUoC,yBAA2BvD,EAAUE,SAASsD,qBACtFvF,EAAsBkD,EAAUsC,oBAAsB9F,KAAKM,oBAG5D,OAAOR,EAAS4F,SAASK,yCAAyC,CACjExD,SAAUoD,EACVG,mBAAoBxF,EACpB8C,UAAWI,EAAUJ,UACrB2B,SAAUvB,EAAUuB,WAEtB,KAAKtF,EAAqBwC,sBACzB,IAAI0D,EAA2BnC,GAAaA,EAAUoC,yBAA2BvD,EAAUE,SAASsD,qBACpGvF,EAAsBkD,GAAaA,EAAUsC,oBAAsB9F,KAAKM,oBACxEkF,EAAkBhC,GAAaA,EAAUiC,gBAAkBpD,GAAaA,EAAUK,aAAeL,EAAUK,YAAYC,KAEvH,GACC6C,GACAlF,IAAwB,cACxBN,KAAKG,YAAY6F,kBAChB,CACD,IAAKC,EAAsBnG,EAAS4F,SAASP,8BAA8BK,GAC3E,GAAIS,GAAuBA,IAAwBjG,KAAKF,SAASoG,cAAcZ,KAAM,CACpF,OAAOW,CACR,CACD,CAEA,OAAOnG,EAAS4F,SAASK,yCAAyC,CACjExD,SAAUoD,EACVG,mBAAoBxF,EACpB8C,UAAWI,EAAUJ,UACrB2B,SAAUvB,EAAUuB,WAGtB,KAAKtF,EAAqB0G,KACzB,MAAO,GACR,QACC,MAAO,GAEV,EAEAxG,EAAwBiB,UAAUwF,sBAAwB,SAAShE,EAAuBiE,GACzF,IAAIvG,EAAWE,KAAKF,SACnBuC,EAAYvC,EAAS8D,WAEtB,OAAQxB,GACP,KAAK3C,EAAqB0G,KACzB,OAAO,MAER,KAAK1G,EAAqBgC,mBACzB,IAAIgB,EAA8BJ,EAAUK,YAAYC,KACvD2D,EAED,GAAI7D,EAA6B,CAChC6D,EAAkC7D,EAA4BI,UAC/D,CAEA,IAAI0D,EAAmC,CACtCC,aAAcnE,EAAUE,UAAYF,EAAUE,SAASA,UAAYF,EAAUE,SAASA,SAASS,KAC/FH,WAAYR,EAAUQ,WACtB4D,+BAAgCH,EAChCb,eAAgBpD,EAAUE,UAAYF,EAAUE,SAASA,UAAYF,EAAUE,SAASA,SAAS,wCAGlG,GAAI8D,EAAiB,CACpB,OAAOvG,EAAS4F,SAASgB,iDAAiDH,EAC3E,KAAO,CACN,OAAOzG,EAAS4F,SAASiB,wCAAwCJ,EAClE,CACD,KAAK9G,EAAqBuC,UAC1B,KAAKvC,EAAqBwC,sBACzB,IAAI2E,EAAqB,CACxBJ,aAAcnE,EAAUE,UAAYF,EAAUE,SAASA,UAAYF,EAAUE,SAASA,SAASS,KAC/FH,WAAYR,EAAUQ,WACtBL,oBAAqBH,EAAUE,UAAYF,EAAUE,SAASC,qBAG/D,GAAI6D,EAAiB,CACpB,OAAOvG,EAAS4F,SAASmB,yDAAyDD,EACnF,KAAO,CACN,OAAO9G,EAAS4F,SAASoB,gDAAgDF,EAC1E,CACD,QACC,OAAO,MAEV,EAEAjH,EAAwBiB,UAAUmG,sBAAwB,SAASjG,EAAQ0C,GAC1E,IAAIrD,EAAcH,KAAKG,YAIvB,IAAKA,EAAY4B,oBAAqB,CACrC,MACD,CAEA,IAAIiF,EAAmBhH,KAAKiH,yCAAyCC,KAAKlH,KAAM,CAC/EmH,QAAS3D,EAAU2D,UAGpB,IAAIC,EAAiBpH,KAAKqH,uCAAuCH,KAAKlH,KAAM,CAC3EsH,MAAO9D,EAAU8D,QAGlB,IAAIC,EAAiB,CACpBC,MAAO1G,EACPqG,QAASH,EACTM,MAAOF,EACPK,aAAcjE,EAAUiE,aACxBC,oBAAqB,KACrBC,qBAAsBnE,EAAUmE,sBAGjC,OAAO3H,KAAK4H,gCAAgCL,EAC7C,EAEA5H,EAAwBiB,UAAUsB,0CAA4C,SAAS2F,GACtF,IAAI1H,EAAcH,KAAKG,YACvB,IAAI2H,EAAQ3H,EAAY4H,UACxB,IAAI3F,EAAwBjC,EAAYqB,mCACxC,IAAIwG,EAAYhI,KAAKF,UAAYE,KAAKF,SAASoG,cAC/C,IAAIV,EAAkBwC,GAAaA,EAAUtF,aAAesF,EAAUtF,YAAYC,KAGlF,GACCmF,IAAU,QACVE,GACAA,EAAUtF,aACVsF,EAAUtF,YAAYuF,gBAAkB,eACvC,CACD,MACD,CAEA,GACCzC,IAEEwC,GAAaxC,EAAgBF,OAAS0C,EAAU1C,MACjDtF,KAAKM,sBAAwB,eAC5BH,EAAY6F,mBAEb,CACDR,EAAkB,IACnB,CAEA,GACCpD,IAA0B3C,EAAqBuC,YAE7CwD,GACDpD,IAA0B3C,EAAqBwC,uBAC/CjC,KAAKF,SAASoI,sCAAwC,UAEvDlI,KAAKF,SAASoE,6BACb,CACD,IAAIiE,EAA+B,QAClCC,EAASjI,EAAYwB,WACrB0G,EAAkBlI,EAAY4B,oBAC9BuG,EAAQnI,EAAYkB,WAAW8G,GAA8BrG,UAC7DyG,EAASH,GAAUC,GAAmBC,GAASF,EAAOI,YAAYF,EAAOD,GAE1E,IAAII,EAAqBzI,KAAK0I,yBAAyBvI,EAAaA,EAAYwI,oBAAoBzC,cAAe,CAAC,GACpH,IAAI0C,EAAsC5I,KAAKW,6CAA+CnB,EAAcQ,KAAKW,2CAA4C8H,GAE7J,GAAMG,GAAuC5I,KAAKU,iCAAmC6H,IAAWvI,KAAKE,sBAAyB2H,EAA6B,CAC1J,IAAIgB,EAAgB,CAAC,YAErB,IAAIC,EAAmB,CACtBtB,MAAOe,EACPQ,SAAUR,EACVS,iBAAkB,KAClBC,KAAMnB,GAGP,OAAO9H,KAAK4H,gCAAgC,CAC3CJ,MAAOe,EACPd,aAAcoB,EACdnB,oBAAqB,MACrBP,QAASnH,KAAKiH,yCAAyCC,KAAKlH,KAAM8I,IAEpE,CACD,CACD,EAEAnJ,EAAwBiB,UAAUgH,gCAAkC,SAASpE,GAC5E,IAAI+E,EAAS/E,EAAUgE,MAEvB,GAAIhE,EAAUmE,qBAAsB,CACnCnE,EAAUiE,aAAe,CAAC,WAC3B,CAEA,IAAIyB,EAAclJ,KAAKG,YAAYc,WAAajB,KAAKG,YAAYc,UAAUkI,KAE3E,GAAID,GAAe1F,EAAUkE,oBAAqB,CACjDwB,EAAYE,sBAAsB,KAClCF,EAAYG,QAAQ,KACrB,CAEArJ,KAAKG,YAAYmJ,sBAAsBf,GAEvC,OAAOvI,KAAKuJ,eAAe/F,GAAWgG,QAAQ,WAC7C,GAAIN,GAAe1F,EAAUkE,oBAAqB,CAEjDwB,EAAYE,sBAAsB,GAClCF,EAAYG,QAAQ,MACrB,CACD,EACD,EAMA1J,EAAwBiB,UAAU2I,eAAiB,SAAS/F,GAC1D,IAAIrD,EAAcH,KAAKG,YACvBI,EACAkJ,EACAC,EACAjB,EACAkB,EACAvH,EAAwBjC,EAAYqB,mCACpCa,EAAYlC,EAAYwI,oBAAoBzC,cAC5CjB,EAAwBtF,EAAwBwC,SAC/CnC,KAAKF,SAASoE,6BAA+BzE,EAAqBuC,UAAYI,EAC9EC,GAEDiG,EAAQ,IAAMrD,EAAsB9B,cACpCU,EAAiBxB,GACbA,EAAUK,aACVL,EAAUK,YAAYoB,eAAiB,KAC3C8F,EAAY3E,EAAsBrC,SAClCiH,EAAoB5E,EAAsBhC,iBAC1C6G,EAAqB9J,KAAKF,UAAYE,KAAKF,SAASiK,uBACpDC,EAAiCnG,GAAkBA,EAAeoG,yBAA2BhF,EAAsB9B,cACnH+G,EAAaF,GAAkCnG,GAAkBA,EAAesG,UAAY3F,OAAO4F,OAAOvG,EAAesG,WAAa,GACtIE,EAAaL,GAAkCnG,GAAkBA,EAAeyG,OAASzG,EAAeyG,OAAS,GACjHC,EAAyB,CACxBpD,QAAS3D,EAAU2D,QACnBG,MAAO9D,EAAU8D,OAInB,IACEuC,IAGA7J,KAAKG,YAAY4H,YAAc,YAE9B5H,EAAYqK,8BAEb,CACD,OAAOC,QAAQC,SAChB,CAEA1K,KAAKU,+BAAiC8C,EAAUgE,MAEhD,IAECjH,EAA4BP,KAAK2K,8BACjC,GAAIpK,EAA2B,CAC9BkJ,EAAoBzJ,KAAK4K,kBAAkBrK,GAE3C,GAAIkJ,EAAmB,CACtBzJ,KAAK6K,gCACLrH,EAAU2D,QAAQsC,GAClB,OAAOgB,QAAQC,SAChB,CACD,CAID,CAFE,MAAOI,GACR,OAAOL,QAAQM,OAAOD,EACvB,CAGAnB,EAAS3J,KAAKgL,iCAAiCxH,EAAUgE,OACzD,GACCmC,GACAA,EAAOsB,eAAepB,IACtBC,GACAA,EAAmBoB,qBAClBpB,EAAmBoB,qBACnB,CAED1H,EAAU2D,QAAQwC,GAClB,OAAOc,QAAQC,SAChB,CAGAjC,EAAqBzI,KAAK0I,yBAAyBvI,EAAakC,EAAWsH,GAE3E,IAAIwB,EAAmB,CACtBC,aAAcxB,EACdf,cAAerF,EAAUiE,aACzB3D,cAAeD,GAGhB,GAAIgG,EAAmB,CACtBsB,EAAiBE,qBAAuBxB,CACzC,CAEA,IAAKH,KAAcjB,EAAoB,CACtCjF,EAAUiE,aAAa6D,KAAK5B,EAC7B,CAEAyB,EAAiBI,kBAAoB9C,EAErC,IAAI+C,EAAWxL,KAAKyL,WAAWjI,EAAUgE,MAAO2D,GAEhD,GAAIK,EAASE,SAAW,EAAG,CAC1B,OAAOjB,QAAQC,SAChB,CAEA,IAAIiB,EAAiB3L,KAAK4L,iBAAiB,CAC1ChJ,SAAUgH,EACV3G,iBAAkB4G,EAClBM,UAAWD,EACX2B,UAAWxB,IAGZE,EAAuBuB,QAAUN,EACjCjB,EAAuBwB,cAAgBJ,EAEvC3L,KAAKW,2CAA6C8H,EAElD,OAAOtI,EAAY6L,0BAA0BC,KAAK9L,EAAYwB,WAAY2G,EAAOiC,GAC/E2B,KAAK1I,EAAU2D,SACfgF,MAAM3I,EAAU8D,MACnB,EAEA3H,EAAwBiB,UAAUgK,kBAAoB,SAASrK,GAC9D,OAAOA,IAA8B,IAAMP,KAAKG,YAAY4B,oBAAoByG,YAAYjI,EAC7F,EAEAZ,EAAwBiB,UAAUiK,8BAAgC,WACjE7K,KAAKO,0BAA4B,EAClC,EAEAZ,EAAwBiB,UAAUwL,4BAA8B,SAAS7L,GACxEP,KAAKO,0BAA4BA,CAClC,EAEAZ,EAAwBiB,UAAU+J,4BAA8B,WAC/D,OAAO3K,KAAKO,yBACb,EAEAZ,EAAwBiB,UAAU8H,yBAA2B,SAASvI,EAAakM,EAAOC,GACzF,IAAIC,EACHC,EACAC,EACAC,EACAC,EACAlE,EAAqB,CAAC,EAEvB,UAAW6D,IAAoB,YAAa,CAC3CA,EAAkB,CAAC,CACpB,CAEA,GAAID,GAASA,EAAM3J,aAAe2J,EAAM3J,YAAYoB,cAAe,CAClE0I,EAAYH,EAAM3J,YAAYoB,cAAc8I,SAC5CL,EAAeF,EAAM3J,YAAYoB,cAAc+I,WAChD,CAEA,GAAIN,EAAc,CACjB,IAAKE,KAAmBF,EAAc,CACrC9D,EAAmBgE,GAAmBF,EAAaE,EACpD,CACD,CAEA,GAAID,EAAW,CACd,IAAKE,KAAgBF,EAAW,CAC/BG,EAAsBH,EAAUE,GAChC,GAAIC,IAAwBN,EAAM3J,YAAYoB,cAAclB,SAAU,CACrE6F,EAAmBkE,GAAuBL,EAAgBK,KAAyBG,UAAYR,EAAgBK,GAAuBxM,EAAY4B,oBAAoByG,YAAYkE,EACnL,CACD,CACD,CAEA,OAAOjE,CACR,EAEA9I,EAAwBiB,UAAUmM,gBAAkB,SAAS5M,EAAa6M,EAAcC,EAAkBC,GACzG,IAAIC,EAAchN,EAAYwB,WAC7B+B,EAAyBvD,EAAYiN,4BAA8B,yBAA2BjN,EAAYqB,qCAAuC,wBACjJ6L,EAED9N,EAAO+N,MAAMC,QAAQP,GAAe,MAAQhN,KAAKwN,cAAcC,WAE/D,GAAIN,EAAa,CAGhB,GAAIG,MAAMC,QAAQP,IAAiBA,EAAatB,SAAW,EAAG,CAC7D2B,EAAsBF,EAAYO,OAAOV,EAAa,GACvD,CAEA,GAAItJ,GAA0BsJ,EAAatB,SAAW,EAAE,CACvD1L,KAAKM,oBAAsB,IAAM+M,EACjCrN,KAAK2N,yBAAyBV,EAAkBC,EAAiB,KAClE,MAAO,UAAWG,IAAwB,SAAU,CACnDrN,KAAKM,oBAAsB,IAAM+M,EACjCrN,KAAK2N,yBAAyBV,EAAkBC,EAAiB,MAAOxJ,EACzE,CAED,CACD,EAEA/D,EAAwBiB,UAAUqG,yCAA2C,SAASzD,EAAW6I,EAAOuB,GACvG,IAAIC,EACH/D,EACAhC,EACAoB,EACA4E,EACAC,EACAf,EACA7M,EAAcH,KAAKG,YAGpB,IAAKA,EAAa,CACjB,MACD,CAEA2H,EAAQtE,EAAUyF,MAAQ9I,EAAY4H,UACtC8F,EAAcxB,GAASiB,MAAMC,QAAQlB,EAAM2B,UAAY3B,EAAM2B,QAAQtC,SAAW,EAAIW,EAAM2B,QAAQ,GAAK,KACvGlE,EAAqB3J,GAAeA,EAAYwI,qBAAuBxI,EAAYwI,oBAAoBoB,wBAA0B,KACjIb,EAAc/I,EAAYc,UAAUkI,KACpC2E,EAAqB5E,GAAeA,EAAY7H,WAAW,SAC3D0M,EAAkB5N,EAAYc,UAAUgN,QACxCjB,EAAeX,GAASA,EAAM2B,UAAYlB,UAAY,CAACT,GAASA,EAAM2B,QAEtE,GAAIH,GAAe/D,EAAoB,CACtCA,EAAmBoE,qCAAqCL,GAExD,GAAI/F,IAAU,SAAWtE,EAAUwF,kBAAoB7I,EAAYqB,qCAAuC/B,EAAqBgC,mBAAoB,CAClJqI,EAAmBqE,yBAA2BrE,EAAmBqE,wBAAwBC,aAAa,CAACP,GACxG,CACD,CAEA,IAAKrK,EAAUwF,iBAAkB,CAChC7I,EAAYkO,YAAYC,uBAAuBtB,EAChD,CAEA,UAAWxJ,EAAU2D,UAAY,WAAY,CAC5C3D,EAAU2D,QAAQ6F,EACnB,CAEA,IAAKlF,IAAU,WAAaA,IAAU,gBAAkBtE,EAAUwF,iBAAkB,CACnFhJ,KAAK+M,gBAAgB5M,EAAa6M,EAAc,OAAQe,EACzD,CAEA,GACCD,GACAhG,IAAU,QACV3H,EAAYoO,gCACX,CACDvO,KAAK+M,gBAAgB5M,EAAa6M,EAAc,QAAS9D,EAC1D,CAEAlJ,KAAKG,YAAYmJ,sBAAsBwD,UACxC,EAEAnN,EAAwBiB,UAAUyG,uCAAyC,SAAS7D,EAAWsH,GAC9F,UAAWtH,EAAU8D,QAAU,WAAY,CAC1C9D,EAAU8D,MAAMwD,EACjB,CAEA9K,KAAKG,YAAYmJ,sBAAsBwD,UACxC,EAEAnN,EAAwBiB,UAAU+M,yBAA2B,SAASa,EAAWtB,EAAiBuB,EAAiB/K,GAClH,IAAIvD,EAAcH,KAAKG,YACtBqD,EAAY,CAAC,EACbtD,EACAkB,EACAsN,EACAtM,EAAwBjC,EAAYqB,mCAErC,GACCY,IAA0B3C,EAAqBuC,WAAaI,IAA0B3C,EAAqBwC,uBAC3GjC,KAAKF,SAASoE,6BACb,CACD9C,EAAW8L,GAAmBA,EAAgB7L,WAAWmN,GAEzD,GAAIxO,KAAKF,UAAYsB,EAAU,CAC9BsN,EAAQtN,EAASmD,UAGjB,KAEGmK,IACAA,EAAMC,IAAI,iDAEZ3O,KAAKF,SAAS8O,wBACb,CACD1O,EAAuBF,KAAKF,SAAS8O,0BACrC,GAAI1O,EAAsB,CACzBwO,EAAQxO,CACT,CACD,CAEA,GAAIwO,EAAO,CACVlL,EAAY,CAACO,KAAM2K,EACpB,CAEAlL,EAAUqL,eAAiBJ,EAC3BjL,EAAUE,uBAAyBA,EACnCwJ,EAAgB4B,aAAaN,EAAWxO,KAAKuD,eAAeC,GAC7D,CACD,CACD,EAEA7D,EAAwBiB,UAAUgL,iBAAmB,SAASpI,GAC7D,IAAIuL,EAAU,CAACvL,EAAUZ,UAEzB,GAAIY,EAAUP,iBAAkB,CAC/B8L,EAAQzD,KAAK9H,EAAUP,iBACxB,CAEAO,EAAU2G,UAAU6E,QAAQ,SAASC,GACpC,GAAIF,EAAQ1K,QAAQ4K,MAAgB,EAAG,CACtCF,EAAQzD,KAAK2D,EACd,CACD,GAEA,GAAIjP,KAAKG,YAAYqB,qCAAuC/B,EAAqBgC,mBAAoB,CACpGsN,EAAUvL,EAAUqI,UAAUqD,IAAI,SAAUC,GAC3C,OAAOA,EAAOnM,IACf,EACD,CAEA,MAAO,CACNoM,QAAWL,EAAQM,KAAK,KACxBC,KAAQ,EAEV,EAEA3P,EAAwBiB,UAAU6K,WAAa,SAASlD,EAAQ/E,GAC/D,IAAIqF,EAAgBrF,EAAUqF,cAC7B0G,EAEDvP,KAAKwP,iBAEL,GAAIlC,MAAMC,QAAQ1E,IAAkBA,EAAc6C,SAAW,EAAG,CAE/D,OAAQ7C,EAAc,IACrB,IAAK,WACJ7I,KAAKyP,UAAYzP,KAAK0P,YAAYnH,EAAQ/E,GAC1C,OAAOxD,KAAKyP,UAAY,CAACzP,KAAKyP,WAAa,GAE5C,IAAK,mBACJzP,KAAK2P,mBAAqB3P,KAAK4P,qBAAqBrH,EAAQ/E,GAC5D,OAAOxD,KAAK2P,mBAAqB,CAAC3P,KAAK2P,oBAAsB,GAIhE,CAEA3P,KAAKyP,UAAYzP,KAAK0P,YAAYnH,EAAQ/E,GAE1C,IAAKxD,KAAKyP,UAAW,CACpB,MAAO,EACR,CAEAF,EAA0BvP,KAAK6P,sBAAsBrM,GAErDxD,KAAK8P,SAAW,IAAIzQ,EAAO,CAC1B0Q,IAAK,KACLjE,QAAS,CACR,IAAIzM,EAAO,CACV0Q,IAAI,MACJjE,QAAS,CACR9L,KAAKyP,gBAMT,GAAIF,EAAwB/D,SAASE,OAAS,EAAG,CAChD1L,KAAK8P,SAAStE,SAASF,KAAKiE,EAC7B,CAEA,MAAO,CAAEvP,KAAK8P,SACf,EAQAnQ,EAAwBiB,UAAUoP,iCAAmC,SAAUlP,EAAQuL,GACtFrM,KAAKQ,0BAA0ByP,IAAInP,EAAQuL,EAC5C,EASA1M,EAAwBiB,UAAUoK,iCAAmC,SAAUlK,GAC9E,IAAIuL,EAAQrM,KAAKQ,0BAA0B0P,IAAIpP,GAC/Cd,KAAKQ,0BAA0B2P,OAAOrP,GACtC,OAAOuL,CACR,EAEA1M,EAAwBiB,UAAU8O,YAAc,SAASnH,EAAQ/E,GAChE,IAAIW,EACHN,EAAiBL,EAAUM,cAC3B4F,EAAalG,EAAU4H,aACvBgF,EAAYvM,GAAkBA,EAAeyG,OAC7C+F,EAAiBD,GAAaA,EAAUE,KAAK,SAAUnB,GACtD,OAAOA,EAAOnM,OAAS0G,CACxB,GACA6G,EAAcF,GAAkBA,EAAeG,WAAa,QAE7D,GAAIjI,IAAW,MAAQA,IAAWuE,WAAavE,IAAW,GAAI,CAC7DpE,EAAiCN,GAAkBA,EAAeO,kCAAoCP,EAAeO,iCAAiCC,QAAQqF,MAAiB,EAC/K,GAAIvF,EAA+B,CAClC,OAAOnE,KAAKyQ,8BAA8B/G,EAAY6G,EACvD,CACD,KAAO,CACN,OAAO,IAAIlR,EAAO,CACjBqR,OAAQnI,EACRjD,KAAMoE,EACNiH,SAAUrR,EAAesR,IAE3B,CACD,EAEAjR,EAAwBiB,UAAUgP,qBAAuB,SAASrH,EAAQ/E,GACzE,OAAO,IAAInE,EAAO,CACjBqR,OAAQnI,EACRjD,KAAM9B,EAAU6H,qBAChBsF,SAAUrR,EAAeuR,UAE3B,EAEAlR,EAAwBiB,UAAUiP,sBAAwB,SAAUrM,GACnE,IAAIgI,EAAW,GACd3H,EAAiBL,EAAUM,cAC3BsM,EAAYvM,GAAkBA,EAAeyG,OAE9C9F,OAAOsM,KAAKtN,EAAU+H,mBAAmByD,QAAQ,SAAUtF,GAC1D,IAAIqH,EAAcvN,EAAU+H,kBAAkB7B,GAC7C2G,EAAiBD,EAAUE,KAAK,SAAUnB,GACzC,OAAOA,EAAOnM,OAAS0G,CACxB,GACAsH,EAA6BnN,GAAkBA,EAAeO,kCAAoCP,EAAeO,iCAAiCC,QAAQqF,MAAiB,EAC3KuH,EAAoBjR,KAAKkR,yBAAyBH,EAAarH,EAAY2G,EAAgBW,GAE5F,GAAIC,EAAmB,CACtBzF,EAASF,KAAK2F,EACf,CACD,EAAE/J,KAAKlH,OAEP,OAAO,IAAIX,EAAO,CACjB0Q,IAAK,KACLjE,QAASN,GAEX,EAOA7L,EAAwBiB,UAAUsQ,yBAA2B,SAAU3I,EAAQmB,EAAY2G,EAAgBW,GAC1G,GAAIzI,IAAW,MAAQA,IAAWuE,WAAavE,IAAW,GAAI,CAE7D,GAAIyI,EAA4B,CAG/B,OAAOhR,KAAKyQ,8BAA8B/G,EAAa2G,GAAkBA,EAAeG,WAAa,QACtG,CACD,KAAO,CAEN,OAAO,IAAInR,EAAO,CACjBqR,OAAQnI,EACRjD,KAAMoE,EACNiH,SAAUrR,EAAesR,IAE3B,CACD,EAOAjR,EAAwBiB,UAAU6P,8BAAgC,SAAU/G,EAAYyH,GAGvF,GAAIA,EAAc,CACjB,OAAO,IAAI9R,EAAO,CACjBqR,OAAQ,GACRpL,KAAMoE,EACNiH,SAAUrR,EAAesR,IAE3B,CAKA,OAAO,IAAIvR,EAAO,CAChB,IAAIA,EAAO,CACVqR,OAAQ,GACRpL,KAAMoE,EACNiH,SAAUrR,EAAesR,KAE1B,IAAIvR,EAAO,CACVqR,OAAQ,KACRpL,KAAMoE,EACNiH,SAAUrR,EAAesR,MAG3B,MAEF,EAEAjR,EAAwBiB,UAAU4O,eAAiB,WAElD,GAAIxP,KAAKyP,UAAW,CACnBzP,KAAKyP,UAAU2B,UACfpR,KAAKyP,UAAY,IAClB,CAEA,GAAIzP,KAAK2P,mBAAoB,CAC5B3P,KAAK2P,mBAAmByB,UACxBpR,KAAK2P,mBAAqB,IAC3B,CAEA,GAAI3P,KAAK8P,SAAU,CAClB9P,KAAK8P,SAASsB,UACdpR,KAAK8P,SAAW,IACjB,CACD,EAEAnQ,EAAwBiB,UAAUwQ,QAAU,WAC3CpR,KAAKG,YAAc,KACnBH,KAAKK,eAAiB,MACtBL,KAAKM,oBAAsB,GAC3BN,KAAKO,0BAA4B,GACjCP,KAAKQ,0BAA4B,KACjCR,KAAKW,2CAA6C,KAClDX,KAAKwP,gBACN,EAEA,OAAO7P,CACR"}