{"version":3,"file":"VariantModel.js","names":["sap","ui","define","_omit","_isEqual","each","includes","isEmptyObject","merge","ObjectPath","Log","JsControlTreeModifier","BusyIndicator","Core","Reverter","URLHandler","FlexObjectFactory","States","Switcher","VariantManagementState","VariantUtil","Layer","LayerUtils","Utils","Settings","JSONModel","_mUShellServices","variantSelectHandler","oEvent","mPropertyBag","setVariantModelBusy","mParameters","mVariantProperties","oModel","model","sVMReference","vmReference","bVariantSwitch","sTargetVReference","key","sSourceVReference","Promise","resolve","then","get","oData","currentVariant","originalCurrentVariant","updateCurrentVariant","variantManagementReference","newVariantReference","appComponent","oAppComponent","internallyCalled","aControlChanges","getControlChangesForVariant","reference","sFlexReference","vReference","eraseDirtyChanges","changes","revert","modified","checkUpdate","callVariantSwitchListeners","bind","getParameters","setBusy","bValue","variantBusy","aVariantDirtyChanges","_getDirtyChangesFromVariantChanges","reverse","revertMultipleChanges","modifier","flexController","oFlexController","undefined","forEach","oChange","removeChangeFromVariant","change","deleteChange","fnCallback","_oVariantSwitchPromise","catch","oError","setVariantSwitchPromise","setUShellService","sServiceName","oService","switchVariantAndUpdateModel","sScenario","switchVariant","this","newVReference","updateVariantInURL","updatePersonalVariantPropertiesWithFlpSettings","oVariant","getInstance","oSettings","isVariantPersonalizationEnabled","remove","rename","isVariantValidForRemove","sVariantManagementReference","bDesignTimeModeToBeSet","sLayer","getCurrentLayer","USER","layer","waitForControlToBeRendered","oControl","getDomRef","addEventDelegate","onAfterRendering","VariantModel","extend","constructor","pSequentialImportCompleted","apply","sharing","PRIVATE","PUBLIC","oChangePersistence","_oChangePersistence","getComponentName","_oResourceBundle","getLibraryResourceBundle","_oVariantAppliedListeners","fillVariantModel","error","message","Object","keys","sKey","variants","defaultVariant","originalTitle","title","originalFavorite","favorite","originalExecuteOnSelect","executeOnSelect","originalVisible","visible","originalContexts","contexts","originalDefaultVariant","setData","addUpdateStateListener","updateModel","checkDirtyStateForControlModels","prototype","initialize","oUShellContainer","getUshellContainer","aServicePromises","getUShellService","all","aServices","vError","Error","mProperties","currentVReference","call","scenario","getCurrentVariantReference","getVariantManagementReference","sVariantReference","iIndex","some","index","variantIndex","getVariant","getVariantTitle","sTitle","oVariantData","handleInitialLoadScenario","oVariantManagementControl","oVariantChangesForVariant","getVariantChangesForVariant","sCurrentVariantReference","sDefaultVariantReference","getExecuteOnSelectionForStandardDefault","setExecuteOnSelect","instance","setExecuteOnSelection","attachVariantApplied","byId","vmControlId","getVariantManagementReferenceForControl","waitForVMControlInit","bInitialLoad","callAfterInitialVariant","waitForInitialVariantChanges","callback","control","getRelevantVariantManagementControlId","getVariantManagementControlIds","showExecuteOnSelection","getId","sNewVariantReference","oCurrentVariant","createScenario","sControlId","detachVariantApplied","sVMControlId","addChange","getVariantReference","getState","LifecycleState","NEW","addChangeToVariant","removeChange","bRemoved","eraseDirtyChangesOnVariant","aSourceVariantChanges","aSourceVariantDirtyChanges","addAndApplyChangesOnVariant","aChanges","reduce","oPreviousPromise","addPreparedChange","getControlIdBySelector","getSelector","applyChange","_getVariantTitleCount","sNewText","getData","iCount","toLowerCase","createNewVariant","oSourceVariant","id","variantName","getFlexObjectMetadata","generator","currentVariantComparison","sourceVariantSource","getLayer","variantReference","sourceVariantReference","createFlVariant","_duplicateVariant","sSourceVariantReference","aVariantChanges","map","oVariantChange","convertToFileContent","compareAgainstCurrentLayer","oDuplicateVariant","controlChanges","variantChanges","slice","oDuplicateChangeData","aSameLayerChanges","support","sourceChangeFileName","fileName","packageName","createDefaultFileName","changeType","push","createFromFileContent","copyVariant","oDuplicateVariantData","oVariantModelData","getName","getExecuteOnSelection","getContexts","concat","addDirtyChange","addVariantToVariantManagement","variantData","splice","removeVariant","aChangesToBeDeleted","getDirtyChanges","filter","variant","component","removeVariantFromVariantManagement","collectModelChanges","aModelVariants","manageVariants","sClass","oContextSharingComponentPromise","attachEventOnce","fnManageClickRta","openManagementDialog","addVariantChange","mAdditionalChangeContent","setVariantProperties","mNewChangeData","mUpdateVariantsStateParams","add","fileType","selector","createBaseChange","setContent","setText","changeContent","updateChangesForVariantManagementInMap","deleteVariantChange","bUpdateCurrentVariant","iVariantIndex","oVariantInstance","setName","setFavorite","createdByReset","setVisible","setContexts","aHashParameters","getStoredHashParams","indexOf","update","parameters","updateURL","_bDesignTimeMode","updateHashEntry","oVariantContent","getContent","iSortedIndex","setVariantData","previousIndex","_ensureStandardVariantExists","oVMDataSection","oVMDataSectionWithoutInit","getText","author","DEFAULT_AUTHOR","oStandardVariant","variantManagementChanges","user","addFakeStandardVariant","setModelPropertiesForControl","showFavorites","bOriginalMode","clearAllVariantURLParameters","fnManageClick","_initializeManageVariantsEvents","detachManage","_isEditable","variantsEditable","attachManage","oUser","_oUserInfoService","getUser","bUserIsAuthorized","toUpperCase","getInstanceOrUndef","isKeyUser","aConfiguredChanges","aConfigurationChangesContent","oChangeProperties","saveDirtyChanges","handleDirtyChanges","aCopiedVariantDirtyChanges","saveSequenceOfDirtyChanges","oResponse","oResponseData","response","_handleSaveEvent","getSource","_handleSave","getAppComponentForControl","getLocalId","aNewVariantDirtyChanges","bSetDefault","def","bSetExecuteOnSelect","execute","overwrite","sVariantLayer","public","sVariantChangeLayer","name","mPropertyBagSetDefault","oSetDefaultChange","mPropertyBagSetExecute","oSetExecuteChange","sId","switchToDefaultForVariantManagement","show","hide","switchToDefaultForVariant","sVariantId","registerToModel","getEditable","attachEvent","attachSave","sUpdateURL","getUpdateVariantInURL","registerControl","handleModelContextChange","vmControl","initPromise","resolveFunction","init","promise","aChangeFileNames","assignedToVariant","aVariantManagementReferences","mVariantManagementModelData","aCurrentVariantControlChanges","aDirtyCurrentVariantChanges","length","getCurrentControlVariantIds","aCurrentVariants","aVMControlIds","createId","destroy","clearFakedStandardVariants","removeUpdateStateListener"],"sources":["VariantModel-dbg.js"],"mappings":"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"}