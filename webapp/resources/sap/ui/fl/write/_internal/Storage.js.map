{"version":3,"file":"Storage.js","names":["sap","ui","define","StorageUtils","StorageFeaturesMerger","States","ObjectPath","WRITE_CONNECTOR_NAME_SPACE","_getWriteConnectors","getConnectors","findConnectorConfigForLayer","sLayer","aConnectors","aFilteredConnectors","filter","oConnector","layers","indexOf","length","Error","_sendLoadFeaturesToConnector","aConnectorPromises","map","oConnectorConfig","writeConnectorModule","loadFeatures","url","then","oFeatures","features","catch","logAndResolveDefault","bind","Promise","all","_getConnectorConfigByLayer","reject","this","_validateDraftScenario","mPropertyBag","draft","resolve","require","FeaturesAPI","isVersioningEnabled","layer","bDraftEnabled","findChangeCreateIndex","oCurrentChange","aCondensedChanges","aNewChanges","oInnerChange","getState","LifecycleState","NEW","getFileType","iChangeCreateIndex","findIndex","oNewChange","getId","prepareCondensingForConnector","mCondense","allChanges","condensedChanges","namespace","convertToFileContent","iOffset","bAlreadyReordered","forEach","oChange","index","sFileType","condenserState","bDifferentOrder","PERSISTED","delete","push","aReorderedChanges","slice","reorder","create","update","iChangeUpdateIndex","content","getContent","_executeActionByName","sActionName","undefined","get","call","Storage","write","condense","flexObjects","remove","reset","getFlexInfo","getContexts","loadContextDescriptions","isContextSharingEnabled","mergeResults","publish","contextBasedAdaptation","versions","load","activate","discardDraft","translation","getSourceLanguages","getTexts","postTranslationTexts"],"sources":["Storage-dbg.js"],"mappings":"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"}