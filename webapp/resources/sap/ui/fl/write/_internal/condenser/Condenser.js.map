{"version":3,"file":"Condenser.js","names":["sap","ui","define","each","isPlainObject","ObjectPath","Log","JsControlTreeModifier","Core","CondenserClassification","ChangesUtils","UIChange","States","LastOneWins","Reverse","Update","UIReconstruction","CondenserUtils","FlUtils","Measurement","_isEqual","Condenser","UNCLASSIFIED","NON_INDEX_RELEVANT","lastOneWins","reverse","update","PROPERTIES_WITH_SELECTORS","isCreateAfterMoveSubtype","mSubtypes","oCondenserInfo","aMoveSubType","Move","classification","Create","length","targetContainer","isMoveAfterDestroySubtype","Destroy","isCreateAfterDestroySubtype","mClassifications","addIndexRelatedChange","mUIReconstructions","oChange","sClassification","change","condenserState","updateChange","forEach","addChange","addNonIndexRelatedChange","mProperties","addToChangesMap","Promise","resolve","addClassifiedChange","mTypes","aIndexRelatedChanges","type","NOT_INDEX_RELEVANT","push","addUnclassifiedChange","sKey","getCondenserInfoFromChangeHandler","oAppComponent","sControlId","getControlIdBySelector","getSelector","oControl","byId","mPropertyBag","modifier","appComponent","view","getViewForControl","mControl","getControlIfTemplateAffected","getChangeHandler","then","oChangeHandler","getCondenserInfo","undefined","bTemplateAffected","replaceTemplateSelector","catch","oOriginalSelector","getOriginalSelector","oTemplateSelector","sPropertyName","getTypesMap","mReducedChanges","sAffectedControlId","affectedControl","updateControl","sUpdateControlId","Object","assign","defineMaps","aChanges","reduce","oPromise","addChangeToMap","bind","this","changeSelectorsToIdsInCondenserInfo","addType","condenseUpdateChange","INDEX_RELEVANT","oUpdateCondenserInfo","get","uniqueKey","updateContent","getState","LifecycleState","PERSISTED","getChanges","mObjects","vSubObjects","getChangesFromMap","Array","isArray","oObject","getAllReducedChanges","getCondenserInfos","aCondenserInfos","sortByInitialOrder","aReducedChanges","sort","a","b","indexOf","sortCondenserInfosByInitialOrder","addAllIndexRelatedChanges","aReducedChangeIds","map","getId","handleChangeUpdate","oUpdateChange","getContent","NEW","oCondensedChange","oNewContent","setContent","setState","DIRTY","condense","start","aAllIndexRelatedChanges","aNotCondensableChanges","aCondensableChanges","slice","isSuccessfullyApplied","end","bUnclassifiedChanges","compareAndUpdate","concat","bSuccess","aReducedIndexRelatedChangesPerContainer","sortIndexRelatedChanges","oError","error","message","aReducedIndexRelatedChanges","swapChanges"],"sources":["Condenser-dbg.js"],"mappings":"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"}